(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{204:function(t,a,s){"use strict";s.r(a);var e=s(0),r=Object(e.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h2",{attrs:{id:"懒加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#懒加载","aria-hidden":"true"}},[t._v("#")]),t._v(" 懒加载")]),t._v(" "),s("p",[t._v("延迟加载图片，在需要显示图片的时候再去请求资源，能减少无用资源的加载，防止并发加载的资源过多阻塞js的加载，影响功能")]),t._v(" "),s("blockquote",[s("p",[t._v("原理")])]),t._v(" "),s("p",[t._v("首先将页面上的图片的 src 属性设为空字符串，而图片的真实路径则设置在data-url属性中，\n当页面滚动的时候需要去监听scroll事件，在scroll事件的回调中，判断我们的懒加载的图片是否进入可视区域,如果图片在可视区内将图片的 src 属性设置为data-url 的值，这样就可以实现延迟加载。")]),t._v(" "),s("p",[t._v("优化：请求一张小的占位图作为默认显示，等到需要展示时再替换")]),t._v(" "),s("blockquote",[s("p",[t._v("使用lazyload插件可以做这件事")])]),t._v(" "),s("h2",{attrs:{id:"预加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#预加载","aria-hidden":"true"}},[t._v("#")]),t._v(" 预加载")]),t._v(" "),s("blockquote",[s("p",[t._v("原理")])]),t._v(" "),s("p",[t._v("使用该技术来预先告知浏览器某些资源可能在将来会被使用到。预加载简单来说就是将所有所需的资源提前请求加载到本地，这样后面在需要用到时就直接从缓存取资源。")]),t._v(" "),s("p",[t._v("实现："),s("br"),t._v("\n相当于在加载图片前请求图片，并缓存到浏览器")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//myPreload.js文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" image"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nimage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://pic.com/2.jpg"')]),t._v("\n")])])]),s("p",[t._v("参考：\nhttps://juejin.im/post/5b0c3b53f265da09253cbed0")])])}],!1,null,null,null);a.default=r.exports}}]);